<%@page import="java.util.List"%>
<%@page import="adm.alumno.spring.AdmEstudio"%>
<%@page import="adm.alumno.spring.AdmAcademico"%>
<%@page import="adm.alumno.spring.AdmCartaSubir"%>
<%@page import="adm.alumno.spring.AdmSolicitud"%>

<%@ include file= "../head.jsp"%>
<%@ include file= "../menu.jsp"%>

<head> 
	<link rel="STYLESHEET" href="/admision.css"  type="text/css">
	<script src="js/jquery-1.5.1.min.js" type="text/javascript"></script>
  	<script src='js/Globo/jquery.tinyTips2.js' type='text/javascript'></script>		
	<style>		
		body{
			background-image: url("<%=request.getContextPath()%>/imagenes/Biblioteca.png");
			/* Para dejar la imagen de fondo centrada, vertical y horizontalmente */
			background-position: center center;
			/* La imagen se fija en la ventana de visualización para que la altura de la imagen no supere a la del contenido */
			background-attachment: fixed;
			background-repeat: no-repeat;
			/* La imagen de fondo se reescala automáticamente con el cambio del ancho de ventana del navegador */
			background-size: cover;	
		} 
		a {text-decoration: none;} 
		a:hover {text-decoration: underline;} 
		.tabla td{padding:5px;}
		
		.tinyTip {
			width: 325px;
			padding: 17px 0px 0px 0px;
			display: block;
			background: url(js/Globo/tinyTip-top.png) 0px 0px no-repeat;
		}
		.tinyTip .content {
			padding: 0px 15px 0px 15px;
			font-size: 14px;
			font-family: "Lucida Sans Unicode";
			color: #010101;
			background: url(js/Globo/tinyTip-content.png) 0px 0px repeat-y;
		}
		.tinyTip .bottom {
			height: 47px;
			background: url(js/Globo/tinyTip-bottom.png) 0px 0px no-repeat;
			font: 0px/0px sans-serif;
		}
		.fa{
			color: black;
		}
		a> .fa{
			color: #337ab7;
		}
		
		@media (min-width: 587px) {
			.col-md-3{
				float: left;
				margin-left: 85px;
			}
		}
		@media (min-width: 764px) {
			.col-md-3{
				float: left;
				margin-left: 0;
			}		
		}
		@media (min-width: 480px) {
			.col-md-5{
				float: left;
			}
		}	
	</style>	
	<script type="text/javascript">
		
		function Borrar(Id){
			if(confirm("Estas seguro de eliminar el registro")==true){
	  			document.location="borrarEstudio?Id="+Id;
			}
		}
		
		function Continuar(){
			
		    if (document.frmotro.otro.value == 1){	    		    
	 			document.location="estudios?Otro=S&Convalida=S";
			}else{			
				document.location="salud";			
			} 
		}
		
		function activarTexto(){
			$("#textoConvalida").show();
		}
		
		function quitarTexto(){
			$("#textoConvalida").hide();
		}	
		
		jQuery(document).ready(function quitarTexto() {
	  		$("#textoConvalida").hide();
	  	});
		
	</script>
</head>
<%	
	String folio 		= (String)session.getAttribute("Folio")==null?"0":(String)session.getAttribute("Folio");
	String Id			= request.getParameter("Id")==null?"0":request.getParameter("Id");
	String otro			= request.getParameter("otro")==null ? "2":request.getParameter("otro");
	boolean existe		= (boolean)request.getAttribute("existe");
	String colorGrabar	= existe?"style='color:purple'":"style='color:orange'";
	String nivelId 		= (String)request.getAttribute("nivelId");
	String nivelNombre 	= "-";
	
	if (nivelId.equals("1")) nivelNombre = "Bachillerato";
	else if (nivelId.equals("2")) nivelNombre = "Licenciatura";
	else if (nivelId.equals("3")) nivelNombre = "Maestría";
	else if (nivelId.equals("4")) nivelNombre = "Doctorado";
	else if (nivelId.equals("5")) nivelNombre = "Educación continua";
	else if (nivelId.equals("6")) nivelNombre = "Especialidad";
	
	AdmSolicitud admSolicitud 		= (AdmSolicitud) request.getAttribute("admSolicitud");	
	AdmCartaSubir admCartaSubir 	= (AdmCartaSubir)request.getAttribute("admCartaSubir");
	
	List<AdmEstudio> lisEstudio = (List<AdmEstudio>) request.getAttribute("lisEstudio");
%>
<body>
	<div class="container-fluid">
		<div class="row">
			<div class="col-lg-1" style="background-color:rgba(255, 255, 255, 0.7);">
				<span class="btn btn-outline-light" style="width: 100px; font-size: 13px;">
					<a href="<%=request.getContextPath()%>/registro" style="color:black">					
						<span data-bs-toggle="tooltip" data-bs-placement="right" title="Datos usuario"><i class="fas fa-user fa-2x"></i><br>Cuenta</span>&nbsp;
					</a>
				</span>
				<span class="btn btn-outline-light" style="width: 100px; font-size: 13px;">
					<a href="<%=request.getContextPath()%>/solicitud/modalidad" style="color:black">					
						<span data-bs-toggle="tooltip" data-bs-placement="right" title="Solicitud de admisi�n"><i class="far fa-file-alt fa-2x"></i><br>Solicitud</span>&nbsp;
					</a>
				</span>			
				<span class="btn btn-outline-light" style="width: 100px; font-size: 13px;">
					<a href="<%=request.getContextPath()%>/documentos/documentos" style="color:black">					
						<span data-bs-toggle="tooltip" data-bs-placement="right" title="Documentos de ingreso"><i class="fas fa-tasks fa-2x"></i><br>Documentos</span>&nbsp;
					</a>
				</span>					
				<span class="btn btn-outline-light tip" style="width: 100px; font-size: 13px;">
					<a href="<%=request.getContextPath()%>/directo/ingreso" style="color:black">
						<span data-bs-toggle="tooltip" data-bs-placement="right" title="Ingreso directo"><i class="fas fa-door-open fa-2x"></i><br>Ingreso</span>&nbsp;
					</a>
				</span>					
				<span class="btn btn-outline-light tip" style="width: 100px; font-size: 13px;">
					<a href="<%=request.getContextPath()%>/referencias?Folio=<%=folio%>" style="color:black">
						<span data-bs-toggle="tooltip" data-bs-placement="right" title="Pago en linea"><i class="fas fa-credit-card fa-2x"></i><br>Pago</span>&nbsp;
					</a>
				</span>					
				<span class="btn btn-outline-light tip" style="width: 100px; font-size: 13px;">
					<a href="<%=request.getContextPath()%>/cita/evento" style="color:black">
						<span data-bs-toggle="tooltip" data-bs-placement="right" title="Reservar examen"><i class="far fa-calendar-alt fa-2x"></i><br>Examen</span>&nbsp;
					</a>
				</span>					
				<span class="btn btn-outline-light tip" style="width: 100px; font-size: 13px;">
					<a href="<%=request.getContextPath()%>/resultados/resultados" style="color:black">
						<span data-bs-toggle="tooltip" data-bs-placement="right" title="Resultados examen"><i class="fas fa-trophy fa-2x"></i><br>Resultados</span>&nbsp;
					</a>
				</span>					
				<span class="btn btn-outline-light tip" style="width: 100px; font-size: 13px;">
<% 				String colorCarta = "black";
				if(admCartaSubir.getCarta() != null){	
					colorCarta = "green";										
 				}%>												
				<a href="<%=request.getContextPath()%>/descargarCartaAdmision" style="color:<%=colorCarta%>">
						<span data-bs-toggle="tooltip" data-bs-placement="right" title="Carta de admisi&oacute;n"><i class="fas fa-envelope fa-2x"></i><br>Carta</span>&nbsp;
					</a>
				</span>					
			</div>
			<div class="col-lg-11" style="background-color:white; min-height:calc(100vh - 37px);">
				<div class="d-flex bd-highlight page-header">
					<div class="p-2 w-100 bd-highlight">
						<h2><i class="fas fa-check-circle" aria-hidden="true" <%=colorGrabar%>></i>&nbsp;<spring:message code="solicitud.otroEstudio.Antecedentes"/></h2>
					</div>
					<div class="p-2 flex-shrink-1 bd-highlight">
						<div class="d-flex align-items-center">
				    		<a href="<%=request.getContextPath()%>/solicitud/padres"><i class="fas fa-caret-left fa-3x"></i></a>
				    		&nbsp;<b class="fs-5">4/8</b>&nbsp;
<%					if(lisEstudio.size() >= 1){ %>
							<a href="<%=request.getContextPath()%>/solicitud/salud"><i class="fas fa-caret-right fa-3x"></i></a>
<%					}else{
						out.print("&nbsp;");
					}%>	      
						</div>
					</div>
				</div>
				<a class="btn btn-success" href="<%=request.getContextPath()%>/solicitud/estudios">Agregar</a><br><br>
				<form id="frmotro" name="frmotro" action="grabarOtro" method="post">
					<input name="Accion" type="hidden">
					<table class="table table-bordered table-condensed">
						<tr>
							<th width="2%"><spring:message code="solicitud.otroEstudio.Edicion"/></th>
						    <th width="3%">#</th>
						    <th width="8%"><spring:message code="solicitud.estudios.UltimoNivel"/></th>
						    <th width="8%"><spring:message code="solicitud.otroEstudio.Titulo"/></th>
					<%-- 	    <th width="8%"><spring:message code="solicitud.otroEstudio.Inicio"/></th> --%>
					<%-- 	    <th width="8%"><spring:message code="solicitud.otroEstudio.Fin"/></th> --%>
						    <th width="7%"><spring:message code="solicitud.otroEstudio.Institucion"/></th>
					<%-- 	    <th width="7%"><spring:message code="solicitud.otroEstudio.Convalida"/></th> --%>
						</tr>
<% 						for(int i=0; i<lisEstudio.size(); i++){
							AdmEstudio tmp = (AdmEstudio)lisEstudio.get(i);%>
						<tr align="center">
							<td>
						    	<a href="estudios?Id=<%=tmp.getId()%>&Otro=O&Convalida=<%=tmp.getConvalida()%>"><i class="fas fa-edit"></i> </a> 
						      		&nbsp;&nbsp;&nbsp;
						      	<a href="javascript:Borrar('<%=tmp.getId()%>')"><i class="fas fa-times"></i></a> 
					    	</td>
						    <td width="3%"><%=tmp.getId()%></td>
						    <td width="8%">
<%							if(tmp.getEstudios().equals("1")){%>
								<spring:message code="solicitud.estudios.Primaria"/>
<%							}else if(tmp.getEstudios().equals("2")){%>
								<spring:message code="solicitud.estudios.Secundaria"/>
<%							}else if(tmp.getEstudios().equals("3")){%>
								<spring:message code="solicitud.estudios.Bachillerato"/>
<%							}else if(tmp.getEstudios().equals("4")){%>
								<spring:message code="solicitud.estudios.Tecnica"/>
<%							}else if(tmp.getEstudios().equals("5")){%>
								<spring:message code="solicitud.estudios.Licenciatura"/>
<%							}else if(tmp.getEstudios().equals("6")){%>
								<spring:message code="solicitud.estudios.Especializacion"/>
<%							}else if(tmp.getEstudios().equals("7")){%>
								<spring:message code="solicitud.estudios.Maestria"/>
<%							}else if(tmp.getEstudios().equals("8")){%>
								<spring:message code="solicitud.estudios.Doctorado"/>
<%							}%>
		    				</td>
		   					 <td width="8%"><%=tmp.getTitulo()%></td>
			<%-- 		    <td width="8%"><%=tmp.getInicio()%></td> --%>
			<%-- 		    <td width="8%"><%=tmp.getFin()%></td> --%>
		    				<td width="7%"><%=tmp.getInstitucion()%></td>
<%-- 		    			<td width="7%"><%=tmp.getConvalida().equals("S")?"SI":"NO"%></td> --%>
						</tr>
<%						}%>
					</table>
					<br>
				<!-- <div class="row"> -->
				<!-- 	<div class="col-md-12"> -->
				<%-- 		<label><spring:message code="solicitud.otroEstudio.OtraMateria1"/> <%=nivelNombre%> <spring:message code="solicitud.otroEstudio.OtraMateria2"/></label>&nbsp;&nbsp; --%>
				<%--     	<input onclick="javascript:activarTexto();" style="border:0;" type="radio" name="otro" value="1" <%if (otro.equals("1")) out.print("Checked");%>/>&nbsp;&nbsp;<b>Si</b>&nbsp;&nbsp; --%>
				    	<input type="hidden" name="otro" value="2"/>
				<!-- 	</div> -->
				<!-- </div> -->
					<div class="row" id="textoConvalida">
						<div class="col-md-12">
							<br>
							<b><spring:message code="solicitud.otroEstudio.ParaConvalidar"/>:</b><spring:message code="solicitud.otroEstudio.MensajeConvalidacion"/><br><br>
							<b><spring:message code="solicitud.otroEstudio.Convalidacion"/>:</b> <spring:message code="solicitud.otroEstudio.MensajeConvalidar"/><br><br>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</body>