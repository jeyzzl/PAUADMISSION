<%@ page import="java.util.List"%>
<%@ page import="adm.alumno.spring.AdmSolicitud"%>

<%@ include file= "head.jsp"%>
<%@ include file= "menu.jsp"%>
<%	
	String folio 				= (String)session.getAttribute("Folio")==null?"0":(String)session.getAttribute("Folio");
	AdmSolicitud admSolicitud	= (AdmSolicitud)request.getAttribute("admSolicitud");
	boolean existe 				= (boolean) request.getAttribute("existe");
	String mensaje				= request.getParameter("Mensaje")==null?"-":request.getParameter("Mensaje");
%>
<head>
	<link type="text/css" rel="stylesheet" href="bootstrap3/css/bootstrap.min.css">
	<link type="text/css" rel="stylesheet" href="admision.css">
	<link type="text/css" rel="stylesheet" href="css/login.css">
	<link href="admision.css" rel="STYLESHEET" type="text/css">
	<script type="text/javascript" src="boostrap/js/jquery-1.11.2.min.js"></script>
	<link href="../css/smoothness/jquery-ui-1.8.11.custom.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="../js/jquery-1.5.2.min.js"></script>
	<script src="../js/jquery-ui-1.8.11.custom.min.js"></script>
	
	<style>
		body{
			background-image: url("imagenes/Biblioteca.png");
			/* Para dejar la imagen de fondo centrada, vertical y horizontalmente */
			background-position: center center;
			/* La imagen se fija en la ventana de visualizaci�n para que la altura de la imagen no supere a la del contenido */
			background-attachment: fixed;
			background-repeat: no-repeat;
			/* La imagen de fondo se reescala autom�ticamente con el cambio del ancho de ventana del navegador */
			background-size: cover;	
		}
	
		.next{
			cursor: hand;cursor: pointer;
			background:#3C277D;
			height:32px;
			width: 165px;
			
			border: 4px solid #2C176D;
			border-radius:1.4em;
			
			background: -webkit-gradient(linear, left top, left bottom, from(#644FA5), to(#3C277D));
			background: -webkit-linear-gradient(#644FA5, #3C277D 60%);
			background: -moz-linear-gradient(#644FA5, #3C277D 60%);
			background: -o-linear-gradient(#644FA5, #3C277D 60%);
		}
		.next:hover{
			background:#644FA5;
			background: -webkit-gradient(linear, left top, left bottom, from(#8C77CD), to(#644FA5));
			background: -webkit-linear-gradient(#8C77CD, #644FA5 60%);
			background: -moz-linear-gradient(#8C77CD, #644FA5 60%);
			background: -o-linear-gradient(#8C77CD, #644FA5 60%);
		}
		.image{
			background: white;
			width: 27px;
			height: 26px;
			border-radius:20em;
		}
		.flecha{
			position:relative;
			left: 7px;
			top: 4px;
			border-left: 16px solid #2C176D; 
			border-right: 9px solid transparent; 
			border-bottom: 9px solid transparent; 
			border-top: 9px solid transparent; 
		}
	</style>
</head>
<body style="height: 97%;background:url(imagenes/um3.png) no-repeat bottom right;background-color:#F7EBEB;">
<div class="container">
<%	if(!mensaje.equals("-")){%>
	<div class="alert alert-info"><%=mensaje%></div>
<%	}%>
	<div class="well-white">
	<form id="forma" name="forma" action="guardarContrasena" method="post">
	
<%if(existe){ %>
	<h4><spring:message code="restablecerContrasena.Usuario"/>: <%=admSolicitud.getNombre()+" "+admSolicitud.getApellidoPaterno()+" "+admSolicitud.getApellidoMaterno()%></h4>
	<h4><spring:message code="restablecerContrasena.Cambiar"/></h4>	
<%} %>
	<label><spring:message code="restablecerContrasena.ContrasenaActual"/>*:</label>
	<input class= "form-control" type="password" id="Actual" name="Actual" maxlength="30" maxlength="70" />
			
	<br><label><spring:message code="restablecerContrasena.ContrasenaNueva"/>*:</label>
	<input class= "form-control" type="password" id="clave" name="clave" maxlength="30" />
			
	<br><label><spring:message code="restablecerContrasena.ConfirmeClave"/>*:</label>
	<input class= "form-control" type="password" id="confClave" name="confClave" required="required" maxlength="30" onkeyup="verificar();"/>
 	<div id="validationServer03Feedback" class="invalid-feedback">
      	La confirmaci&oacute;n del password no coincide.
    </div>		
	<br>
	<div id="ShowEnviar" style="display: none;" align="left" class="card-footer bg-transparent border-success">
		<button type="button" class="btn alert-info" onclick="document.forma.submit();" style="margin-bottom: 10px;">
			<spring:message code="adm.Guardar"/> <span class="glyphicon glyphicon-triangle-right" aria-hidden="true"></span>
		</button><br>
	</div>	
	</form>
	</div>	
</div>
<script type="text/javascript">
function verificar(){
	var clave 		= document.getElementById("clave").value; 
	var confirma 	= document.getElementById("confClave").value; 
	const element 	= document.getElementById("confClave");
	
	if(clave === confirma){
		document.getElementById("ShowEnviar").style.display = "block"; 
		element.className = "form-control";
	}else{
		document.getElementById("ShowEnviar").style.display = "none"; 
		element.className = "form-control  is-invalid";
	}
}
</script>
</body>