<%@page import="java.util.List"%>
<%@page import="java.util.HashMap"%>
<%@page import="adm.alumno.spring.AdmSolicitud"%>
<%@page import="adm.alumno.spring.AdmAcademico"%>
<%@page import="adm.alumno.spring.AdmCartaSubir"%>
<%@page import="adm.banco.spring.AdmBanco"%>

<%@ include file= "../head.jsp"%>
<%@ include file= "../menu.jsp"%>

<%
	String folio 			= (String)session.getAttribute("Folio")==null?"0":(String)session.getAttribute("Folio");
	List<String> opciones	= (List<String>)session.getAttribute("Opciones");
	String colorImagen 		= "bg-warning";
	String colorArchivo		= "style='color:#ff9633'";	
  	String mensaje        = (String)request.getAttribute("mensaje");
	
	AdmSolicitud admSolicitud		= (AdmSolicitud)request.getAttribute("admSolicitud");
	AdmAcademico admAcademico		= (AdmAcademico)request.getAttribute("admAcademico");	
  	AdmCartaSubir admCartaSubir = (AdmCartaSubir)request.getAttribute("admCartaSubir");
  	AdmBanco admBanco           = (AdmBanco)request.getAttribute("admBanco");
	
  	boolean tieneBanco    = (boolean)request.getAttribute("tieneBanco");
	String nivelNombre		= (String)request.getAttribute("nivelNombre");
	String carreraNombre	= (String)request.getAttribute("carreraNombre");	 
	String modalidad 		= admAcademico.getModalidad();
	
%>

<head>
	<link rel="STYLESHEET" href="/admision.css"  type="text/css">
	<script src="../../js/jquery-1.5.1.min.js" type="text/javascript"></script>
  <script src='../../js/Globo/jquery.tinyTips2.js' type='text/javascript'></script>		
	<style>		
		body{
			background-image: url("<%=request.getContextPath()%>/imagenes/Biblioteca.png");
			/* Para dejar la imagen de fondo centrada, vertical y horizontalmente */
			background-position: center center;
			/* La imagen se fija en la ventana de visualización para que la altura de la imagen no supere a la del contenido */
			background-attachment: fixed;
			background-repeat: no-repeat;
			/* La imagen de fondo se reescala automáticamente con el cambio del ancho de ventana del navegador */
			background-size: cover;	
		} 
		a {text-decoration: none;} 
		a:hover {text-decoration: underline;} 
		.tabla td{padding:5px;}
		
		.tinyTip {
			width: 325px;
			padding: 17px 0px 0px 0px;
			display: block;
			background: url(js/Globo/tinyTip-top.png) 0px 0px no-repeat;
		}
		.tinyTip .content {
			padding: 0px 15px 0px 15px;
			font-size: 14px;
			font-family: "Lucida Sans Unicode";
			color: #010101;
			background: url(js/Globo/tinyTip-content.png) 0px 0px repeat-y;
		}
		.tinyTip .bottom {
			height: 47px;
			background: url(js/Globo/tinyTip-bottom.png) 0px 0px no-repeat;
			font: 0px/0px sans-serif;
		}
		.fa{
			color: black;
		}
		a> .fa{
			color: #337ab7;
		}
		
		@media (min-width: 587px) {
			.col-md-3{
				float: left;
				margin-left: 85px;
			}
		}
		@media (min-width: 764px) {
			.col-md-3{
				float: left;
				margin-left: 0;
			}		
		}
		@media (min-width: 480px) {
			.col-md-5{
				float: left;
			}
		}	
	</style>	
	<script type="text/javascript">
		function revisaBanco(){
			if(document.getElementById("Banco").value != ""){
				if(document.getElementById("NombreCuenta").value != ""){
					if(document.getElementById("TipoCuenta").value != ""){
						if(document.getElementById("Rama").value != "0"){
							if(document.getElementById("NumeroCuenta").value != "0"){
								return true;
							}
							else{
								alert("Account number is required");
								document.getElementById("NumeroCuenta").focus();
							}
						}
						else{
							alert("Account branch is required");
							document.getElementById("Rama").focus();
						}
					}
					else{
						alert("Account type is required");
						document.getElementById("TipoCuenta").focus();
					}
				}
				else{
					alert("Account Name is required");
					document.getElementById("NombreCuenta").focus();	
				}
			}
			else{
				alert("Bank name is required");
				document.getElementById("Banco").focus();
			}
			return false;
		}

		function grabar(){
			if(revisaBanco()){
				document.frmBanco.submit();
			}
		}
	</script>	
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <%@ include file= "../opciones.jsp"%>
      <div class="col-lg-11" style="background-color:white; min-height:calc(100vh - 37px);">
        <div class="page-header">
          <h2><spring:message code='banco.titulo'/> &nbsp;<small class="text-muted fs-5">( <%=nivelNombre%> &nbsp;<spring:message code='documentos.documentos.Carrera'/>: <i><%=carreraNombre%></i> )</small></h2>
        </div>
        <div class="alert alert-info" role="alert">
          <spring:message code='banco.instrucciones'/>&nbsp;&nbsp;
        </div>
        <form id="frmBanco" name="frmBanco" action="grabarBanco" method="post">
        <div class="row">
          <div class="col-md-6">
			<label><spring:message code="banco.nombre"/>*</label>	<!-- BANK -->
						<input  class= "form-control" type="text" id="Banco" name="Banco" value="<%=admBanco.getBanco()%>" size="40" maxlength="70" /><br>
            <label><spring:message code="banco.cuenta"/>*</label>	<!-- ACCOUNT NAME -->
						<input  class= "form-control" type="text" id="NombreCuenta" name="NombreCuenta" value="<%=admBanco.getBanco()%>" size="40" maxlength="70" /><br>
            <label><spring:message code="banco.tipo"/>*</label>	<!-- ACCOUNT TYPE -->
						<input  class= "form-control" type="text" id="TipoCuenta" name="TipoCuenta" value="<%=admBanco.getCuentaTipo()%>" size="40" maxlength="70" /><br>
            <label><spring:message code="banco.codigoSwift"/></label>	<!-- SWIFT CODE -->
						<input  class= "form-control" type="text" id="CodigoSwift" name="CodigoSwift" value="<%=admBanco.getCodigoSwift()==null?"":admBanco.getCodigoSwift()%>" size="40" maxlength="70" /><br>
          </div>
          <div class="col-md-6">
            <label><spring:message code="banco.branch"/>*</label>	<!-- BRANCH -->
						<input  class= "form-control" type="text" id="Rama" name="Rama" value="<%=admBanco.getBancoRama()%>" size="40" maxlength="70" /><br>
            <label><spring:message code="banco.numeroCuenta"/>*</label>	<!-- ACCOUNT NUMBER -->
						<input  class= "form-control" type="text" id="NumeroCuenta" name="NumeroCuenta" value="<%=admBanco.getCuentaNumero()%>" size="40" maxlength="70" /><br>
            <label><spring:message code="banco.numeroBBS"/></label>	<!-- BBS -->
						<input  class= "form-control" type="text" id="NumeroBBS" name="NumeroBBS" value="<%=admBanco.getNumeroBbs()==null?"":admBanco.getNumeroBbs()%>" size="40" maxlength="70" /><br>
          </div>
        </div>
        <br>
        <%-- <button type="submit" class="btn alert-info"><spring:message code="adm.Guardar"/></button>&nbsp; --%>
<% if(tieneBanco){ %>
        <a href="borrarBanco" class="btn alert-info text-decoration-none"><spring:message code="adm.Borrar"/></a>
        <div class="alert alert-info mt-3">
          You can now move to the next step to record your <b><i>Fees</i></b>
        </div>
<% }else{ %>
		<button type="button" class="btn alert-info" onclick="grabar();"><spring:message code="adm.Guardar"/></button>&nbsp;
<% }%>
      </div>
      </form>
    </div>
  </div>
</body>